## Проверка наличия роли
Для проверки прав доступа в коде следует использовать метод `ПравоДоступа`.
Например, неправильно:
```bsl
Если РольДоступна("ДобавлениеИзменениеСтранМира") Тогда ...
```
правильно:
```bsl
Если ПравоДоступа("Редактирование", Метаданные.Справочники.СтраныМира) Тогда ...
Если ПравоДоступа("Просмотр", Метаданные.Отчеты.ПопулярныеСтраны) Тогда ...
```
Такой подход позволяет повысить устойчивость кода к пересмотру состава ролей в конфигурации.

## Предопределенные значения
При использовании в конфигурации Библиотеки стандартных подсистем (БСП) версии 2.1.4 и выше рекомендуется использовать функцию `ПредопределенныйЭлемент` общего модуля `ОбщегоНазначения` или `ОбщегоНазначенияКлиент`, которая возвращает Неопределено для несуществующих в ИБ предопределенных элементов. При этом не следует реализовывать дополнительные механизмы кеширования на клиенте предопределенных значений. Указанные выше функции не ухудшают клиент-серверное взаимодействие: серверный вызов выполняется только при первом обращении к значению, а результат автоматически кешируется.

## Примеры описания процедур и функций
*Пример описания функции с одним параметром:*
```bsl
// Определяет доступность ролей ИменаРолей текущему пользователю,
// а также доступность административных прав.
//
// Параметры:
//   ИменаРолей - Строка - имена ролей, доступность которых проверяется, разделенные запятыми.
//
// Возвращаемое значение:
//   Булево - Истина, если хотя бы одна из переданных ролей доступна текущему пользователю,
//   либо у него есть административные права.
//
// Пример:
// Если РолиДоступны("ИспользованиеРассылокОтчетов,ОтправкаПоПочте") Тогда ...
//
Функция РолиДоступны(ИменаРолей) Экспорт 
```
*Пример описания процедуры без параметров:*
```bsl
// В обработчике события ПередЗаписью документа выполняется;
// - очистка табличной части услуги, в случае если указан договор с комиссионером;
// - проверка заполнения реквизита ЕдиницаИзмеренияМест табл. части Товары;
// - синхронизация с "подчиненным" счетом-фактурой;
// - заполнение склада и заказа покупателя в табличных частях Товары и ВозвратнаяТара;
// - удаление неиспользуемых строк табличной части "Серийные номера";
// - заполнение переменной модуля объекта УдалятьДвижение.
//
Процедура ПередЗаписью() 

КонецПроцедуры
```

## Получение метаданных объектов

1. В тех случаях, когда известен тип объекта метаданного (справочник, документ, и т.п.), то получение метаданных объекта конфигурации следует выполнять с помощью метода Метаданные этого объекта (или ссылки для объектов ссылочного типа), а не путем обращения к свойству глобального контекста Метаданные, так как второй способ существенно более медленный.

**Правильно:**
```bsl
СправочникОбъект.Метаданные()
```
**Неправильно:**
```bsl
Метаданные.Справочники[ИмяСправочника]
Метаданные.НайтиПоПолномуИмени("Справочник." + ИмяСправочника)
```
2. В тех случаях, когда тип объекта метаданного заранее неизвестен, рекомендуется воспользоваться методом НайтиПоТипу, например:
```bsl
// Получить полное имя объекта метаданных  вида "Справочник.Номенклатура", "Документ.ПриходнаяНакладная" по переданной ссылке.
ИмяОбъектаМетаданного = Метаданные.НайтиПоТипу(ТипЗнч(Ссылка)).ПолноеИмя();
```
